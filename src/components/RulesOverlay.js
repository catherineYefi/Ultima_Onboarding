import React, { useEffect } from "react";
import { X } from "lucide-react";

/**
 * –ü–æ–ª–Ω–∞—è –ø–æ–¥—Å—Ç—Ä–∞–Ω–∏—Ü–∞ (overlay) "–ü—Ä–∞–≤–∏–ª–∞ Ultima-–≥—Ä—É–ø–ø—ã"
 * –¢–µ–∫—Å—Ç ‚Äî –ø–æ –¢–ó –∏–∑ —Ç–≤–æ–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è.
 */
export default function RulesOverlay({ onClose }) {
  useEffect(() => {
    const handleEsc = (e) => e.key === "Escape" && onClose?.();
    window.addEventListener("keydown", handleEsc);
    document.body.style.overflow = "hidden";
    return () => {
      window.removeEventListener("keydown", handleEsc);
      document.body.style.overflow = "unset";
    };
  }, [onClose]);

  return (
    <div className="overlay-root">
      <div className="overlay-backdrop" onClick={onClose} />
      <div className="overlay-panel">
        <div className="overlay-header">
          <h2>–ü—Ä–∞–≤–∏–ª–∞ Ultima-–≥—Ä—É–ø–ø—ã</h2>
          <button className="overlay-close-btn" onClick={onClose} aria-label="–ó–∞–∫—Ä—ã—Ç—å">
            <X size={24} />
          </button>
        </div>

        <div className="overlay-body">
          <h3>üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã</h3>
          <ul className="final-list dots">
            <li><strong>–†–µ–∂–∏–º –Ω–µ–∏–∑–±–µ–∂–Ω–æ—Å—Ç–∏</strong> ‚Äî –≤—ã–ø–æ–ª–Ω—è–µ–º –≤—Å—ë –≤ —Å—Ä–æ–∫, –±–µ–∑ –æ–ø—Ä–∞–≤–¥–∞–Ω–∏–π.</li>
            <li><strong>–§–æ–∫—É—Å –Ω–∞ ROI</strong> ‚Äî –∫–∞–∂–¥–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –¥–æ–ª–∂–Ω–æ –≤–µ—Å—Ç–∏ –∫ —Ä–æ—Å—Ç—É –±–∏–∑–Ω–µ—Å–∞, –∞ –Ω–µ –∫ ¬´–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Ä–∞–¥–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏¬ª.</li>
            <li><strong>–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å</strong> ‚Äî –≤—Å—è –¥–∏–Ω–∞–º–∏–∫–∞ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è –≤ –≤–æ—Ä–∫–±—É–∫–µ, CRM –∏ –¥–∞—à–±–æ—Ä–¥–µ.</li>
          </ul>

          <hr className="divider" />

          <h3>üìã –î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞</h3>
          <ol className="ordered">
            <li>
              <strong>–ü—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ</strong>
              <ul className="final-list dots">
                <li>–£—á–∞—Å—Ç–Ω–∏–∫ –æ–±—è–∑–∞–Ω –±—ã—Ç—å –Ω–∞ –∫–∞–∂–¥–æ–π –≤—Å—Ç—Ä–µ—á–µ –¥–µ—Å—è—Ç–∫–∏ –∏ –Ω–∞ —Å—Ç—Ä–∞—Ç—Å–µ—Å—Å–∏–∏.</li>
                <li>–û–ø–æ–∑–¥–∞–Ω–∏—è —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è, –±–æ–ª–µ–µ 2 –ø–æ–¥—Ä—è–¥ = —à—Ç—Ä–∞—Ñ –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ.</li>
              </ul>
            </li>
            <li>
              <strong>–ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã</strong>
              <ul className="final-list dots">
                <li>–î–µ–∫–ª–∞—Ä–∞—Ü–∏—è, –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è, P&L weekly, CRM-–≤–æ—Ä–æ–Ω–∫–∞ ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –∫ –¥–µ–¥–ª–∞–π–Ω—É.</li>
                <li>–ù–µ—Å–¥–∞–Ω–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã = —à—Ç—Ä–∞—Ñ ‚àí10 –±–∞–ª–ª–æ–≤ –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ Ultima.</li>
              </ul>
            </li>
            <li>
              <strong>–ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏</strong>
              <ul className="final-list dots">
                <li>–û—Ç–≤–µ—Ç –≤ —á–∞—Ç–∞—Ö Ultima ‚â§ 12 —á–∞—Å–æ–≤.</li>
                <li>¬´–¢–∏—à–∏–Ω–∞¬ª –±–æ–ª–µ–µ —Å—É—Ç–æ–∫ = –∫—Ä–∞—Å–Ω—ã–π —Ñ–ª–∞–≥ –¥–ª—è —Ç—Ä–µ–∫–µ—Ä–∞.</li>
              </ul>
            </li>
            <li>
              <strong>–¶–µ–Ω–∞ —Å–ª–æ–≤–∞</strong>
              <ul className="final-list dots">
                <li>–ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤ –¥–µ–∫–ª–∞—Ä–∞—Ü–∏–∏ —Å—É–º–º–∞ (–∏–ª–∏ –¥—Ä—É–≥–æ–π —Ä–µ—Å—É—Ä—Å) —Å–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –Ω–µ–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞.</li>
              </ul>
            </li>
          </ol>

          <hr className="divider" />

          <h3>üë• –†–æ–ª–∏</h3>
          <p className="muted">–ì—Ä—É–ø–ø–∞ (8 —á–µ–ª–æ–≤–µ–∫), –õ–∏–¥–µ—Ä, –¢—Ä–µ–∫–µ—Ä, –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç ‚Äî —Ñ–æ—Ä–º—É–ª–∞ –∫–æ–º–∞–Ω–¥–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏.</p>

          <hr className="divider" />

          <h3>üóì –û—Ñ—Ñ–ª–∞–π–Ω-—Å–ª—ë—Ç—ã (—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω—ã–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä, –ø–æ –∂–µ–ª–∞–Ω–∏—é)</h3>
          <ul className="final-list dots">
            <li>–í —Å–µ–∑–æ–Ω–µ –ø–æ –∂–µ–ª–∞–Ω–∏—é –º–æ–≥—É—Ç –±—ã—Ç—å –æ—Ñ—Ñ–ª–∞–π–Ω-–≤—Å—Ç—Ä–µ—á–∏ –≥—Ä—É–ø–ø—ã (–ø–æ–º–∏–º–æ –æ–±—â–µ–π —Å—Ç—Ä–∞—Ç—Å–µ—Å—Å–∏–∏ –∏ –≤—ã–ø—É—Å–∫–Ω–æ–≥–æ).</li>
            <li>–§–æ—Ä–º–∞—Ç: 1 –¥–µ–Ω—å, –ø–æ–ª–Ω–æ–µ –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ, ¬´—Ä–µ–∂–∏–º –∑–∞–∫—Ä—ã—Ç–æ–π –∫–æ–º–Ω–∞—Ç—ã¬ª.</li>
            <li>
              –¶–µ–ª–∏ —Å–ª—ë—Ç–∞:
              <ul className="final-list dots" style={{ marginTop: 6 }}>
                <li>—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–æ —Ü–µ–ª—è–º –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å—É,</li>
                <li>—Ä–∞–±–æ—Ç–∞ –Ω–∞–¥ —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ —É–∑–∫–∏–º–∏ –º–µ—Å—Ç–∞–º–∏,</li>
                <li>–ª–∏—á–Ω–∞—è —Ä–µ—Ñ–ª–µ–∫—Å–∏—è –∏ –¥–æ–≤–µ—Ä–∏–µ.</li>
              </ul>
            </li>
            <li>–ü—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –≥—Ä—É–ø–ø—ã.</li>
          </ul>
        </div>
      </div>
    </div>
  );
}
