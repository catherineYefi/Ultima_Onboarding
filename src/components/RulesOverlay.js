import React, { useEffect, useState } from "react";
import { X, FileText } from "lucide-react";

export default function RulesOverlay() {
  const [open, setOpen] = useState(false);

  useEffect(() => {
    const handler = () => setOpen(true);
    window.addEventListener("openRules", handler);
    return () => window.removeEventListener("openRules", handler);
  }, []);

  // –∑–∞–ø—Ä–µ—Ç —Å–∫—Ä–æ–ª–ª–∞ body –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏
  useEffect(() => {
    if (!open) return;
    document.body.style.overflow = "hidden";
    return () => {
      document.body.style.overflow = "unset";
    };
  }, [open]);

  if (!open) return null;

  return (
    <div className="calendar-overlay">
      <div className="calendar-overlay-header">
        <div className="container">
          <div className="overlay-header-content">
            <h2><FileText size={22} /> –ü—Ä–∞–≤–∏–ª–∞ Ultima-–≥—Ä—É–ø–ø—ã</h2>
            <p className="overlay-subtitle">
              –†–µ–∂–∏–º –Ω–µ–∏–∑–±–µ–∂–Ω–æ—Å—Ç–∏, —Ñ–æ–∫—É—Å –Ω–∞ ROI –∏ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
            </p>
          </div>
          <div className="overlay-header-actions">
            <button
              className="overlay-close-btn"
              onClick={() => setOpen(false)}
              aria-label="–ó–∞–∫—Ä—ã—Ç—å"
            >
              <X size={28} />
            </button>
          </div>
        </div>
      </div>

      <div className="calendar-overlay-body">
        <div className="container">
          <div className="card">
            <h3>üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã</h3>
            <ul>
              <li><strong>–†–µ–∂–∏–º –Ω–µ–∏–∑–±–µ–∂–Ω–æ—Å—Ç–∏</strong> ‚Äî –≤—ã–ø–æ–ª–Ω—è–µ–º –≤—Å—ë –≤ —Å—Ä–æ–∫, –±–µ–∑ –æ–ø—Ä–∞–≤–¥–∞–Ω–∏–π.</li>
              <li><strong>–§–æ–∫—É—Å –Ω–∞ ROI</strong> ‚Äî –∫–∞–∂–¥–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –¥–æ–ª–∂–Ω–æ –≤–µ—Å—Ç–∏ –∫ —Ä–æ—Å—Ç—É –±–∏–∑–Ω–µ—Å–∞.</li>
              <li><strong>–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å</strong> ‚Äî –≤—Å—è –¥–∏–Ω–∞–º–∏–∫–∞ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è –≤ –≤–æ—Ä–∫–±—É–∫–µ, CRM –∏ –¥–∞—à–±–æ—Ä–¥–µ.</li>
            </ul>
            <hr />

            <h3>üìã –î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞</h3>
            <ol>
              <li>
                <strong>–ü—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ</strong>
                <ul>
                  <li>–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ —É—á–∞—Å—Ç–∏–µ –≤–æ –≤—Å—Ç—Ä–µ—á–∞—Ö –¥–µ—Å—è—Ç–∫–∏ –∏ –Ω–∞ —Å—Ç—Ä–∞—Ç—Å–µ—Å—Å–∏–∏.</li>
                  <li>–û–ø–æ–∑–¥–∞–Ω–∏—è —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è; –±–æ–ª–µ–µ 2 –ø–æ–¥—Ä—è–¥ ‚Äî —à—Ç—Ä–∞—Ñ –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ.</li>
                </ul>
              </li>
              <li>
                <strong>–ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã</strong>
                <ul>
                  <li>–î–µ–∫–ª–∞—Ä–∞—Ü–∏—è, –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è, P&L weekly, CRM-–≤–æ—Ä–æ–Ω–∫–∞ ‚Äî –∫ –¥–µ–¥–ª–∞–π–Ω—É.</li>
                  <li>–ù–µ—Å–¥–∞–Ω–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã = —à—Ç—Ä–∞—Ñ ‚àí10 –±–∞–ª–ª–æ–≤ –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ Ultima.</li>
                </ul>
              </li>
              <li>
                <strong>–ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏</strong>
                <ul>
                  <li>–û—Ç–≤–µ—Ç –≤ —á–∞—Ç–∞—Ö Ultima ‚â§ 12 —á–∞—Å–æ–≤.</li>
                  <li>¬´–¢–∏—à–∏–Ω–∞¬ª –±–æ–ª–µ–µ —Å—É—Ç–æ–∫ = –∫—Ä–∞—Å–Ω—ã–π —Ñ–ª–∞–≥ –¥–ª—è —Ç—Ä–µ–∫–µ—Ä–∞.</li>
                </ul>
              </li>
              <li>
                <strong>–¶–µ–Ω–∞ —Å–ª–æ–≤–∞</strong>
                <ul>
                  <li>–ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤ –¥–µ–∫–ª–∞—Ä–∞—Ü–∏–∏ —Å—É–º–º–∞/—Ä–µ—Å—É—Ä—Å —Å–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –Ω–µ–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞.</li>
                </ul>
              </li>
            </ol>

            <hr />
            <h3>üë• –†–æ–ª–∏</h3>
            <p>–°—Ö–µ–º—É —Ä–æ–ª–µ–π –¥–æ–±–∞–≤–∏–º –∫–∞–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –∫–æ–≥–¥–∞ –±—É–¥–µ—Ç —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª.</p>

            <hr />
            <h3>üóì –û—Ñ—Ñ–ª–∞–π–Ω-—Å–ª—ë—Ç—ã (–ø–æ –∂–µ–ª–∞–Ω–∏—é)</h3>
            <ul>
              <li>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ—Ñ—Ñ–ª–∞–π–Ω-–≤—Å—Ç—Ä–µ—á–∏ –≤ —Å–µ–∑–æ–Ω–µ (–∫—Ä–æ–º–µ Start-–°–° –∏ –≤—ã–ø—É—Å–∫–Ω–æ–≥–æ).</li>
              <li>–§–æ—Ä–º–∞—Ç: 1 –¥–µ–Ω—å, ¬´—Ä–µ–∂–∏–º –∑–∞–∫—Ä—ã—Ç–æ–π –∫–æ–º–Ω–∞—Ç—ã¬ª.</li>
              <li>–¶–µ–ª–∏: —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è, —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ —É–∑–∫–∏—Ö –º–µ—Å—Ç, —Ä–µ—Ñ–ª–µ–∫—Å–∏—è.</li>
              <li>–ü—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –≥—Ä—É–ø–ø—ã.</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  );
}
